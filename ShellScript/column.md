# column コマンド

`column` コマンドは、テキストを複数の列（column）に整形する。

## 3つの動作モード

このコマンドの動作モードには３つのモードがある。

|モード|オプション|
|---|---|
|行 (row) より先に列 (column) を埋める|デフォルト|
|列より先に行を埋める|`-x`, `--fillrows`|
|表形式|`-t`, `--table`|

### 行より先に列を埋める

↓↗︎↓↗︎...　の順に埋める。

```console
$ seq -f "%04g" 20 | column -c 60
0001	0004	0007	0010	0013	0016	0019
0002	0005	0008	0011	0014	0017	0020
0003	0006	0009	0012	0015	0018
```

`-c`, `--output-width` オプションで表示幅を指定できる（デフォルトでは環境変数 `COLUMNS` が使用される）。

### 列より先に行を埋める

→↙︎→↙︎...の順に埋める。

```console
$ seq -f "%04g" 20 | column -x -c 60
0001	0002	0003	0004	0005	0006	0007
0008	0009	0010	0011	0012	0013	0014
0015	0016	0017	0018	0019	0020
```

### 表形式

CSVを整形して表示する。

```console
$ cat item.csv
なまえ,ねだん,こすう
ひのきのぼう,5G,10
どうのつるぎ,100G,2
ぬののふく,10G,3
$ cat item.csv | column -t -s,
なまえ        ねだん  こすう
ひのきのぼう  5G      10
どうのつるぎ  100G    2
ぬののふく    10G     3
```

`-s`, `--separator`オプションで表形式を選択したときに、入力項目の区切りに使える文字 (複数可) を指定する (デフォルトはホワイトスペース)。

マークダウンテーブルを整形して表示する。

```console
$ cat item.md
|なまえ|ねだん|こすう|
|---|---|---|
|ひのきのぼう|5G|10|
|どうのつるぎ|100G|2|
|ぬののふく|10G|3|
$ cat item.md |sed 's/|/ & /g' | column -t
|  なまえ        |  ねだん  |  こすう  |
|  ---           |  ---     |  ---     |
|  ひのきのぼう  |  5G      |  10      |
|  どうのつるぎ  |  100G    |  2       |
|  ぬののふく    |  10G     |  3       |
```

# 参考

- [Man page of COLUMN](https://linuxjm.osdn.jp/html/util-linux/man1/column.1.html)
