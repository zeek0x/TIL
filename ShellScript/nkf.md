# nkf コマンド

ネットワーク用漢字コード変換フィルタ

## 文字コードを判別

`-g`, `--guess`オプションで文字コードを判別することができる。

```console
$ echo アイウエオ | nkf -g
UTF-8
```

## 入出力オプション

文字コードを表す英字で、小文字で入力を、大文字で入力を指定することができる。

|-|入力|出力|
|---|---|---|
|JIS      |`-J`|`-j`|
|EUC      |`-E`|`-e`|
|Shift_JIS|`-S`|`-s`|
|UTF-8    |`-W`|`-w`|

## かな変換

`-h`, `--hiragana` オプションでひらがなに、`--katakana`オプションでカタカナに、`-Z`オプションで英数字を半角に、`-Z4`オプションで半角カタカナに変換できる。

```console
$ echo シェルゲイおじさん | nkf --hiragana
しぇるげいおじさん
$ echo シェルゲイおじさん | nkf --katakana
シェルゲイオジサン
$ echo シェルゲイおじさん | nkf --katakana | nkf -Z4
ｼｪﾙｹﾞｲｵｼﾞｻﾝ
$ echo あいうえおABCＡＢＣ123１２３ | nkf -Z
あいうえおABCABC123123
```

## イディオム

濁点、半濁点の消去

```console
$ echo ジパング | nkf --katakana | nkf -Z4 | sed 's/ﾞ//g;s/ﾟ//g' | nkf --hiragana
しはんく
```

一度Shift_JIS（絵文字を含まない文字コード）に変換することで絵文字が削除できる

```
$ echo 'おはよー！チュッ(^з<)（笑）ｵﾚは、近所に新しくできたお寿司🍣に行ってきたよ。味はまぁまぁだったかな😃♥ 😚' | nkf -s | nkf -S
おはよー！チュッ(^з<)（笑）オレは、近所に新しくできたお寿司に行ってきたよ。味はまぁまぁだったかな
```
